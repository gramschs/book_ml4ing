
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>8.1 Fehlende Daten &#8212; Maschinelles Lernen für Studierende der Ingenieurwissenschaften</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../_static/myadmonitions.css?v=02871fee" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapter08/chapter08_sec01';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.2 Trainings- und Testdaten" href="chapter08_sec02.html" />
    <link rel="prev" title="8. ML-Workflow: Datenvorverarbeitung" href="chapter08_sec00.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Maschinelles Lernen für Studierende der Ingenieurwissenschaften - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Maschinelles Lernen für Studierende der Ingenieurwissenschaften - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Willkommen zu ML4ING
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started...</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter01/chapter01_sec00.html">1. Grundbegriffe des maschinellen Lernens</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter01/chapter01_sec01.html">1.1 Was ist maschinelles Lernen?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter01/chapter01_sec02.html">1.2 Überwachtes, unüberwachtes und verstärkendes Lernen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter01/chapter01_sec03.html">1.3 Technische Voraussetzungen</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter02/chapter02_sec00.html">2. Crashkurs Python</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter02/chapter02_sec01.html">2.1 Datentypen, Variablen und print()</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter02/chapter02_sec02.html">2.2 Listen und for-Schleifen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter02/chapter02_sec03.html">2.3 Funktionen und Methoden</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter02/chapter02_sec04.html">Übungen</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Datenexploration</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter03/chapter03_sec00.html">3. Pandas und Plotly anstatt Excel</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter03/chapter03_sec01.html">3.1 Pandas Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter03/chapter03_sec02.html">3.2 Statistik mit Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter03/chapter03_sec03.html">3.3 Boxplots mit Plotly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter03/chapter03_sec04.html">Übungen</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter04/chapter04_sec00.html">4. Tabellarische Daten erkunden</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter04/chapter04_sec01.html">4.1 Datenstruktur DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter04/chapter04_sec02.html">4.2 Arbeiten mit Tabellendaten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter04/chapter04_sec03.html">4.3 Scatterplots und Scattermatrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter04/chapter04_sec04.html">Übungen</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter05/chapter05_sec00.html">5. Kategoriale Daten erkunden</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter05/chapter05_sec01.html">5.1 Was sind kategoriale Daten?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter05/chapter05_sec02.html">5.2 Barplots und Histogramme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter05/chapter05_sec03.html">5.3 Daten filtern und gruppieren</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter05/chapter05_sec04.html">Übungen</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">ML-Verfahren</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter06/chapter06_sec00.html">6. Entscheidungsbäume (Decision Trees)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter06/chapter06_sec01.html">6.1 Was ist ein Entscheidungsbaum?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter06/chapter06_sec02.html">6.2 Entscheidungsbäume visualisieren und trainieren</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter06/chapter06_sec03.html">6.3 Entscheidungsbäume in der Praxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter06/chapter06_sec04.html">Übung</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter07/chapter07_sec00.html">7. Lineare Regression</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter07/chapter07_sec01.html">7.1 Einfache lineare Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter07/chapter07_sec02.html">7.2 Multiple lineare Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter07/chapter07_sec03.html">7.3 Polynomiale Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter07/chapter07_sec04.html">Übungen</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="chapter08_sec00.html">8. ML-Workflow: Datenvorverarbeitung</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">8.1 Fehlende Daten</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter08_sec02.html">8.2 Trainings- und Testdaten</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter08_sec03.html">8.3 Kodierung und Skalierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="chapter08_sec04.html">Übungen</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter09/sec00.html">9. Ensemble-Methoden (Random Forests und XGBoost)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter09/sec01.html">9.1 Stacking, Bagging und Boosting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter09/sec02.html">9.2 Random Forests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter09/sec03.html">9.3 XGBoost</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter10/sec00.html">10. Support Vector Machines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter10/sec01.html">10.1 Maximiere den Rand, aber soft</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter10/sec02.html">10.2 Training SVM mit Scikit-Learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter10/sec03.html">10.3 Nichtlineare SVM</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter11/sec00.html">11. ML-Workflow: Modellbewertung und Auswahl</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter11/sec01.html">11.1 Kreuzvalidierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter11/sec02.html">11.2 Gittersuche</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter12/sec00.html">12. Perzeptron</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter12/sec01.html">12.1 Grundbaustein neuronaler Netze</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter12/sec02.html">12.2 Die Perzeptron-Lernregel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter12/sec03.html">12.3 Training eines Perzeptrons mit Scikit-Learn</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter13/sec00.html">13. Logistische Regression</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter13/sec01.html">13.1 Logistische Regression ersetzt Perzeptron</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter13/sec02.html">13.2 Logistische Regression lernt mit Maximum-Likelihood</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter13/sec03.html">13.3 Logistische Regression mit Scikit-Learn</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter14/sec00.html">14. Neuronale Netze</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter14/sec01.html">14.1 Mehrschichtiges Perzeptron</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter14/sec02.html">14.2 Neuronale Netze mit Scikit-Learn</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Extras</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../extras_skimage/extras_skimage_sec00.html">Bildverarbeitung mit Scikit-Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extras_plotly/extras_sec08.html">Plots mit Karten</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Anhang</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Referenzen</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/gramschs/book_ml4ing/main?urlpath=lab/tree/docs/chapter08/chapter08_sec01.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>



<a href="https://github.com/gramschs/book_ml4ing" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapter08/chapter08_sec01.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="../_sources/chapter08/chapter08_sec01.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>8.1 Fehlende Daten</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lernziele">Lernziele</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fehlende-daten-aufspuren-mit-isnull">Fehlende Daten aufspüren mit isnull()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loschen-elimination-mit-drop">Löschen (Elimination) mit drop()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vervollstandigung-imputation-mit-fillna">Vervollständigung (Imputation) mit fillna()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zusammenfassung-und-ausblick">Zusammenfassung und Ausblick</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="fehlende-daten">
<h1>8.1 Fehlende Daten<a class="headerlink" href="#fehlende-daten" title="Link to this heading">#</a></h1>
<p>Realistische Datensätze sind oft unvollständig. In einer Umfrage hat eine Person
mit einer Frage nichts anfangen können und daher nichts angekreuzt. Ein
Messsensor an der Produktionsanlage ist abends ausgefallen, was erst am nächsten
Morgen bemerkt wurde. Die Mitarbeitenden einer Arztpraxis sind im Urlaub und
lassen die Meldung der verabreichten Impfungen noch bis nach dem Urlaub liegen.
Es gibt viele Gründe, warum Datensätze unvollständig sind. In diesem Abschnitt
beschäftigen eir uns damit, fehlende Daten aufzuspüren und lernen einfache
Methoden kennen, damit umzugehen.</p>
<section id="lernziele">
<h2>Lernziele<a class="headerlink" href="#lernziele" title="Link to this heading">#</a></h2>
<div class="goals admonition">
<p class="admonition-title">Lernziele</p>
<ul class="simple">
<li><p>Sie können in einem Datensatz mit <strong>isnull()</strong> fehlende Daten aufspüren und
analysieren.</p></li>
<li><p>Sie kennen die beiden grundlegenen Strategien, mit fehlenden Daten umzugehen:</p>
<ul>
<li><p><strong>Elimination</strong> (Löschen) und</p></li>
<li><p><strong>Imputation</strong> (Vervollständigen).</p></li>
</ul>
</li>
<li><p>Sie können Daten gezielt mit <strong>drop()</strong> löschen.</p></li>
<li><p>Sie können fehlende Daten mit <strong>fillna()</strong> vervollständigen.</p></li>
</ul>
</div>
</section>
<section id="fehlende-daten-aufspuren-mit-isnull">
<h2>Fehlende Daten aufspüren mit isnull()<a class="headerlink" href="#fehlende-daten-aufspuren-mit-isnull" title="Link to this heading">#</a></h2>
<p>Wir arbeiten im Folgenden mit einem echten Datensatz der Verkaufsplattform
<a class="reference external" href="https://www.autoscout24.de">Autoscout24.de</a>, der Verkaufsdaten zu 1000 Autos
enthält. Sie können die csv-Datei hier herunterladen <a class="reference download external" download="" href="https://gramschs.github.io/book_ml4ing/data/autoscout24_fehlende_daten.csv"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">autoscout24_fehlende_daten.csv</span></code></a>
und in das Jupyter Notebook importieren. Alternativ können Sie die csv-Datei
auch über die URL importieren, wie es in der folgenden Code-Zelle gemacht wird.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://gramschs.github.io/book_ml4ing/data/autoscout24_fehlende_daten.csv&#39;</span>
<span class="n">daten</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">daten</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 14 columns):
 #   Column                Non-Null Count  Dtype  
---  ------                --------------  -----  
 0   Marke                 1000 non-null   object 
 1   Modell                1000 non-null   object 
 2   Farbe                 963 non-null    object 
 3   Erstzulassung         1000 non-null   object 
 4   Jahr                  1000 non-null   object 
 5   Preis (Euro)          1000 non-null   object 
 6   Leistung (kW)         1000 non-null   int64  
 7   Leistung (PS)         987 non-null    float64
 8   Getriebe              1000 non-null   object 
 9   Kraftstoff            1000 non-null   object 
 10  Verbrauch (l/100 km)  891 non-null    object 
 11  Verbrauch (g/km)      1000 non-null   object 
 12  Kilometerstand (km)   999 non-null    float64
 13  Bemerkungen           1000 non-null   object 
dtypes: float64(2), int64(1), object(11)
memory usage: 109.5+ KB
</pre></div>
</div>
</div>
</div>
<p>Wir hatten bereits festgestellt, dass die Anzahl der <code class="docutils literal notranslate"><span class="pre">non-null</span></code>-Einträge für die
verschiedenen Merkmale unterschiedlich ist. Offensichtlich ist nur bei 963 Autos
eine »Farbe« eingetragen und die »Leistung (PS)« ist nur bei 987 Autos gültig.
Am wenigsten gültige Einträge hat das Merkmal »Verbrauch (l/100 km)«, wohingegen
bei der Eigenschaft »Kilometerstand (km)« nur ein ungültiger Eintrag auftaucht.
Welche Einträge ungültig sind, können wir mit der Methode <code class="docutils literal notranslate"><span class="pre">isnull()</span></code> bestimmen.
Die Methode liefert ein Pandas DataFrame zurück, das True/False-Werte enthält.
True steht dabei dafür, dass ein Wert fehlt bzw. mit dem Eintrag <code class="docutils literal notranslate"><span class="pre">NaN</span></code>
gekennzeichnet ist (= not a number). Weitere Details finden Sie in der
<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.isnull.html">Pandas-Dokumentation →
isnull()</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Marke</th>
      <th>Modell</th>
      <th>Farbe</th>
      <th>Erstzulassung</th>
      <th>Jahr</th>
      <th>Preis (Euro)</th>
      <th>Leistung (kW)</th>
      <th>Leistung (PS)</th>
      <th>Getriebe</th>
      <th>Kraftstoff</th>
      <th>Verbrauch (l/100 km)</th>
      <th>Verbrauch (g/km)</th>
      <th>Kilometerstand (km)</th>
      <th>Bemerkungen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>995</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>996</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>997</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>998</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>999</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>1000 rows × 14 columns</p>
</div></div></div>
</div>
<p>Bereits in der zweiten Zeile befindet sich ein Auto, bei dem das Merkmal
»Verbrauch (l/100 km)« nicht gültig ist (ggf. müssen Sie weiter nach rechts
scrollen), den dort steht <code class="docutils literal notranslate"><span class="pre">True</span></code>. Wir betrachten uns diesen Eintrag:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Marke                                                            bmw
Modell                                                        BMW X1
Farbe                                                           blau
Erstzulassung                                                06/2021
Jahr                                                            2021
Preis (Euro)                                                   42830
Leistung (kW)                                                    162
Leistung (PS)                                                  220.0
Getriebe                                                   Automatik
Kraftstoff                                                    Hybrid
Verbrauch (l/100 km)                                             NaN
Verbrauch (g/km)                                    49 km Reichweite
Kilometerstand (km)                                          29700.0
Bemerkungen             xDrive25e M Sport HUD Navi Plus DA+ Pano AHK
Name: 1, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Bei dem Auto handelt es sich um einen Hybrid, vielleicht wurde deshalb der
»Verbrauch (l/100 km)« nicht angegeben. Ist das vielleicht auch bei den anderen
Autos der Grund? Wir speichern zunächst die isnull()-Datenstruktur in einer
eigenen Variable ab und ermitteln zunächst, wie viele Autos keinen gültigen
Eintrag bei diesem Merkmal haben. Dazu nutzen wir aus, dass der boolesche Wert
<code class="docutils literal notranslate"><span class="pre">False</span></code> bei Rechnungen als 0 interpretiert wird und der boolesche Wert <code class="docutils literal notranslate"><span class="pre">True</span></code>
als 1. Die Methode <code class="docutils literal notranslate"><span class="pre">.sum()</span></code> summiert pro Spalte alle Werte, so dass sie direkt
die Anzahl der ungültigen Werte pro Spalte liefert.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fehlende_daten</span> <span class="o">=</span> <span class="n">daten</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>

<span class="n">fehlende_daten</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Marke                     0
Modell                    0
Farbe                    37
Erstzulassung             0
Jahr                      0
Preis (Euro)              0
Leistung (kW)             0
Leistung (PS)            13
Getriebe                  0
Kraftstoff                0
Verbrauch (l/100 km)    109
Verbrauch (g/km)          0
Kilometerstand (km)       1
Bemerkungen               0
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Jetzt lassen wir uns diese 109 Autos anzeigen, bei denen ungültige Werte beim
»Verbrauch (l/100 km)« angegeben wurden. Dazu nutzen wir die True-Werte in der
Spalte <code class="docutils literal notranslate"><span class="pre">Verbrauch</span> <span class="pre">(l/100</span> <span class="pre">km)</span></code> als Filter für den ursprünglichen Datensatz.
Zumindest die ersten 20 Autos lassen wir uns dann mit der <code class="docutils literal notranslate"><span class="pre">.head(20)</span></code>-Methode
anzeigen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">autos_mit_fehlendem_verbrauch_pro_100km</span> <span class="o">=</span> <span class="n">daten</span><span class="p">[</span> <span class="n">fehlende_daten</span><span class="p">[</span><span class="s1">&#39;Verbrauch (l/100 km)&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span> <span class="p">]</span>
<span class="n">autos_mit_fehlendem_verbrauch_pro_100km</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Marke</th>
      <th>Modell</th>
      <th>Farbe</th>
      <th>Erstzulassung</th>
      <th>Jahr</th>
      <th>Preis (Euro)</th>
      <th>Leistung (kW)</th>
      <th>Leistung (PS)</th>
      <th>Getriebe</th>
      <th>Kraftstoff</th>
      <th>Verbrauch (l/100 km)</th>
      <th>Verbrauch (g/km)</th>
      <th>Kilometerstand (km)</th>
      <th>Bemerkungen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>bmw</td>
      <td>BMW X1</td>
      <td>blau</td>
      <td>06/2021</td>
      <td>2021</td>
      <td>42830</td>
      <td>162</td>
      <td>220.0</td>
      <td>Automatik</td>
      <td>Hybrid</td>
      <td>NaN</td>
      <td>49 km Reichweite</td>
      <td>29700.0</td>
      <td>xDrive25e M Sport HUD Navi Plus DA+ Pano AHK</td>
    </tr>
    <tr>
      <th>5</th>
      <td>peugeot</td>
      <td>Peugeot 308</td>
      <td>blau</td>
      <td>08/2019</td>
      <td>2019</td>
      <td>16990</td>
      <td>96</td>
      <td>131.0</td>
      <td>Schaltgetriebe</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>- (g/km)</td>
      <td>72500.0</td>
      <td>SW PureTech 130*ALLURE*CARPLAY*3D-NAVI*ALU*</td>
    </tr>
    <tr>
      <th>31</th>
      <td>mercedes-benz</td>
      <td>Mercedes-Benz B 250</td>
      <td>weiß</td>
      <td>10/2021</td>
      <td>2021</td>
      <td>34999</td>
      <td>160</td>
      <td>NaN</td>
      <td>Automatik</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>22000.0</td>
      <td>e*HYBRID*NAVI*LED*TEMPOMAT*AMG-PAKET</td>
    </tr>
    <tr>
      <th>68</th>
      <td>chrysler</td>
      <td>Chrysler Pacifica</td>
      <td>schwarz</td>
      <td>06/2022</td>
      <td>2022</td>
      <td>54490</td>
      <td>214</td>
      <td>291.0</td>
      <td>Automatik</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>- (g/km)</td>
      <td>28512.0</td>
      <td>Touring L, 3.6l V6, NEUES MODELL,CARFAX</td>
    </tr>
    <tr>
      <th>77</th>
      <td>seat</td>
      <td>SEAT Alhambra</td>
      <td>blau</td>
      <td>04/2019</td>
      <td>2019</td>
      <td>29990</td>
      <td>130</td>
      <td>177.0</td>
      <td>Automatik</td>
      <td>Diesel</td>
      <td>NaN</td>
      <td>179 g/km</td>
      <td>85200.0</td>
      <td>2.0 TDI DSG Style*Navi*Bi-Xenon*Panoram Style</td>
    </tr>
    <tr>
      <th>79</th>
      <td>bmw</td>
      <td>BMW 520</td>
      <td>silber</td>
      <td>07/2019</td>
      <td>2019</td>
      <td>37890</td>
      <td>140</td>
      <td>190.0</td>
      <td>Automatik</td>
      <td>Diesel</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>67467.0</td>
      <td>d xDrive Touring Luxury Line NaviProf.HUD.AHK</td>
    </tr>
    <tr>
      <th>81</th>
      <td>volvo</td>
      <td>Volvo S90</td>
      <td>schwarz</td>
      <td>08/2020</td>
      <td>2020</td>
      <td>41900</td>
      <td>246</td>
      <td>334.0</td>
      <td>Automatik</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>- (g/km)</td>
      <td>46800.0</td>
      <td>T6 AWD R-Design ACC AutoPilot LED Panorama 3</td>
    </tr>
    <tr>
      <th>87</th>
      <td>mercedes-benz</td>
      <td>Mercedes-Benz</td>
      <td>rot</td>
      <td>06/2022</td>
      <td>2022</td>
      <td>42570</td>
      <td>140</td>
      <td>190.0</td>
      <td>Automatik</td>
      <td>Diesel</td>
      <td>NaN</td>
      <td>-/-</td>
      <td>7900.0</td>
      <td>Sprinter 319 CDI Pritsche DoKa Leder S&amp;S 7-Sitze</td>
    </tr>
    <tr>
      <th>88</th>
      <td>nissan</td>
      <td>Nissan Qashqai</td>
      <td>schwarz</td>
      <td>10/2020</td>
      <td>2020</td>
      <td>25600</td>
      <td>117</td>
      <td>159.0</td>
      <td>Automatik</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>45915.0</td>
      <td>Tekna PLUS ACC+LED+PANO+360°+Park Assist</td>
    </tr>
    <tr>
      <th>91</th>
      <td>volkswagen</td>
      <td>Volkswagen Golf</td>
      <td>schwarz</td>
      <td>03/2015</td>
      <td>2015</td>
      <td>14500</td>
      <td>169</td>
      <td>230.0</td>
      <td>Schaltgetriebe</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>- (g/km)</td>
      <td>99000.0</td>
      <td>GTI Performance 2.0 TSI 6-Gang GTI Performance...</td>
    </tr>
    <tr>
      <th>97</th>
      <td>skoda</td>
      <td>Skoda Octavia</td>
      <td>schwarz</td>
      <td>10/2019</td>
      <td>2019</td>
      <td>22470</td>
      <td>110</td>
      <td>150.0</td>
      <td>Automatik</td>
      <td>Diesel</td>
      <td>NaN</td>
      <td>- (g/km)</td>
      <td>47461.0</td>
      <td>Combi 2.0 TDI DST STYLE EL.HECK+CANTON+N</td>
    </tr>
    <tr>
      <th>107</th>
      <td>dacia</td>
      <td>Dacia Sandero</td>
      <td>blau</td>
      <td>08/2019</td>
      <td>2019</td>
      <td>13990</td>
      <td>66</td>
      <td>90.0</td>
      <td>Automatik</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>167 g/km</td>
      <td>7296.0</td>
      <td>Stepway TCe 90 Easy-R S&amp;S Prestige</td>
    </tr>
    <tr>
      <th>111</th>
      <td>opel</td>
      <td>Opel Rocks-e</td>
      <td>grau</td>
      <td>01/2023</td>
      <td>2023</td>
      <td>9980</td>
      <td>9</td>
      <td>12.0</td>
      <td>Automatik</td>
      <td>Elektro</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>10.0</td>
      <td>Tenko</td>
    </tr>
    <tr>
      <th>126</th>
      <td>volvo</td>
      <td>Volvo XC90</td>
      <td>braun</td>
      <td>01/2021</td>
      <td>2021</td>
      <td>57490</td>
      <td>223</td>
      <td>303.0</td>
      <td>Automatik</td>
      <td>Hybrid</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>48196.0</td>
      <td>T8 INSCRIPTION EXPRESSION 360° HEAD UP AHK</td>
    </tr>
    <tr>
      <th>152</th>
      <td>nissan</td>
      <td>Nissan Leaf</td>
      <td>rot</td>
      <td>07/2019</td>
      <td>2019</td>
      <td>24890</td>
      <td>110</td>
      <td>150.0</td>
      <td>Automatik</td>
      <td>Elektro</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>40000.0</td>
      <td>Leaf 40 kWh Tekna</td>
    </tr>
    <tr>
      <th>155</th>
      <td>ssangyong</td>
      <td>SsangYong Actyon</td>
      <td>schwarz</td>
      <td>09/2007</td>
      <td>2007</td>
      <td>2500</td>
      <td>110</td>
      <td>150.0</td>
      <td>Schaltgetriebe</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>330 g/km</td>
      <td>147822.0</td>
      <td>Alus , neue Reifen / Bremsen , AHK</td>
    </tr>
    <tr>
      <th>170</th>
      <td>bmw</td>
      <td>BMW X1</td>
      <td>weiß</td>
      <td>07/2020</td>
      <td>2020</td>
      <td>36500</td>
      <td>162</td>
      <td>220.0</td>
      <td>Automatik</td>
      <td>Hybrid</td>
      <td>NaN</td>
      <td>51 km Reichweite</td>
      <td>16700.0</td>
      <td>X1 xDrive25e Sport Line</td>
    </tr>
    <tr>
      <th>178</th>
      <td>audi</td>
      <td>Audi A5</td>
      <td>grau</td>
      <td>03/2014</td>
      <td>2014</td>
      <td>27980</td>
      <td>180</td>
      <td>245.0</td>
      <td>Automatik</td>
      <td>Diesel</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>87611.0</td>
      <td>Cabriolet 3.0 TDI quattro S-line S-Tronic NAV</td>
    </tr>
    <tr>
      <th>186</th>
      <td>skoda</td>
      <td>Skoda Fabia</td>
      <td>blau</td>
      <td>08/2021</td>
      <td>2021</td>
      <td>16150</td>
      <td>70</td>
      <td>95.0</td>
      <td>Schaltgetriebe</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>25200.0</td>
      <td>Combi 1,0 TSI Ambition+Klima+Sitzheizung</td>
    </tr>
    <tr>
      <th>195</th>
      <td>dacia</td>
      <td>Dacia Duster</td>
      <td>schwarz</td>
      <td>08/2019</td>
      <td>2019</td>
      <td>13979</td>
      <td>84</td>
      <td>114.0</td>
      <td>Schaltgetriebe</td>
      <td>Benzin</td>
      <td>NaN</td>
      <td>0 g/km</td>
      <td>31133.0</td>
      <td>1. Hand Navi Tempomat Nebel DAB Sitzheizung Ka...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Bemerkung: Der Vergleich <code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">True</span></code> ist redundant und kann auch weggelassen werden.</p>
<p>Beim Kraftstoff werden alle möglichen Angaben gemacht: Hybrid, Benzin, Diesel
und Elektro. Wir müssten jetzt systematisch den fehlenden Angaben nachgehen. Für
Elektrofahrzeuge und ggf. Hybridautos ist die Angabe »Verbrauch (l/ 100 km)«
unsinnig. Aber das zweite Auto mit der Nr. 5 wird mit Benzin betrieben, da
scheint Nachlässigkeit beim Ausfüllen der Merkmale vorzuliegen. Beim fünften
Auto mit der Nr. 77 ist zwar der »Verbrauch (l/100 km)« nicht angegeben, aber
dafür der »Verbrauch (g/km)«. Daraus könnten wir den »Verbrauch (l/100 km)«
abschätzen und den fehlenden Wert ergänzen. Es gibt verschiedene Strategien, mit
fehlenden Daten umzugehen. Die beiden wichtigsten Verfahren zum Umgang mit
fehlenden Daten sind</p>
<ol class="arabic simple">
<li><p>Löschen (Elimination) und</p></li>
<li><p>Vervollständigung (Imputation).</p></li>
</ol>
<p>Bei Elimination werden Datenpunkte (Autos) und/oder Merkmale gelöscht. Bei
Imputation (Vervollständigung) werden die fehlenden Werte ergänzt. Beide
Verfahren werden wir nun etwas detaillierter betrachten.</p>
</section>
<section id="loschen-elimination-mit-drop">
<h2>Löschen (Elimination) mit drop()<a class="headerlink" href="#loschen-elimination-mit-drop" title="Link to this heading">#</a></h2>
<p>Bei der Elimination (Löschen) können wir filigran vorgehen oder die
Holzhammer-Methode verwenden. Beispielsweise könnten wir entscheiden, das
Merkmal »Verbrauch (l/100 km)« komplett zu löschen und einfach nur den
»Verbrauch (g/km)« zu berücksichtigen. Aber ein kurzer Blick auf die Daten hatte
ja bereits gezeigt, dass diese Werte auch nur unzuverlässig gefüllt waren, auch
wenn sie technisch gültig sind. Wir löschen beide Merkmale. Dazu benutzen wir
die Methode <code class="docutils literal notranslate"><span class="pre">drop()</span></code> mit dem zusätzlichen Argument <code class="docutils literal notranslate"><span class="pre">columns=['Verbrauch</span> <span class="pre">(l/</span> <span class="pre">100</span> <span class="pre">km)',</span> <span class="pre">'Verbrauch</span> <span class="pre">(g/km)']</span></code>. Da wir gleich zwei Spalten aufeinmal eliminieren
möchten, müssen wir die Spalten (Columns) als Liste übergeben. Danach überprüfen
wir mit der Methode <code class="docutils literal notranslate"><span class="pre">.info()</span></code>, ob das Löschen geklappt hat.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Verbrauch (l/100 km)&#39;</span><span class="p">,</span> <span class="s1">&#39;Verbrauch (g/km)&#39;</span><span class="p">])</span>
<span class="n">daten</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 14 columns):
 #   Column                Non-Null Count  Dtype  
---  ------                --------------  -----  
 0   Marke                 1000 non-null   object 
 1   Modell                1000 non-null   object 
 2   Farbe                 963 non-null    object 
 3   Erstzulassung         1000 non-null   object 
 4   Jahr                  1000 non-null   object 
 5   Preis (Euro)          1000 non-null   object 
 6   Leistung (kW)         1000 non-null   int64  
 7   Leistung (PS)         987 non-null    float64
 8   Getriebe              1000 non-null   object 
 9   Kraftstoff            1000 non-null   object 
 10  Verbrauch (l/100 km)  891 non-null    object 
 11  Verbrauch (g/km)      1000 non-null   object 
 12  Kilometerstand (km)   999 non-null    float64
 13  Bemerkungen           1000 non-null   object 
dtypes: float64(2), int64(1), object(11)
memory usage: 109.5+ KB
</pre></div>
</div>
</div>
</div>
<p>Leider hat der Befehl <code class="docutils literal notranslate"><span class="pre">drop()</span></code> nicht funktioniert! Was ist da los? Python und
Pandas verfolgen das Programmierparadigma »Explizit ist besser als implizit!«
Daher werden zwar werden durch den <code class="docutils literal notranslate"><span class="pre">drop()</span></code>-Befehl die beiden Spalten gelöscht,
aber der Datensatz <code class="docutils literal notranslate"><span class="pre">daten</span></code> selbst bleibt aus Sicherheitsgründen unverändert.
Möchten wir den Datensatz mit den gelöschten Merkmalen weiter verwenden, müssen
wir ihn in einer neuen Variable speichern oder die alte Variable <code class="docutils literal notranslate"><span class="pre">daten</span></code> damit
überschreiben. Wir nehmen eine neue Variable namens <code class="docutils literal notranslate"><span class="pre">daten_ohne_verbrauch</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span> <span class="o">=</span> <span class="n">daten</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Verbrauch (l/100 km)&#39;</span><span class="p">,</span> <span class="s1">&#39;Verbrauch (g/km)&#39;</span><span class="p">])</span>
<span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 12 columns):
 #   Column               Non-Null Count  Dtype  
---  ------               --------------  -----  
 0   Marke                1000 non-null   object 
 1   Modell               1000 non-null   object 
 2   Farbe                963 non-null    object 
 3   Erstzulassung        1000 non-null   object 
 4   Jahr                 1000 non-null   object 
 5   Preis (Euro)         1000 non-null   object 
 6   Leistung (kW)        1000 non-null   int64  
 7   Leistung (PS)        987 non-null    float64
 8   Getriebe             1000 non-null   object 
 9   Kraftstoff           1000 non-null   object 
 10  Kilometerstand (km)  999 non-null    float64
 11  Bemerkungen          1000 non-null   object 
dtypes: float64(2), int64(1), object(9)
memory usage: 93.9+ KB
</pre></div>
</div>
</div>
</div>
<p>Ein weiterer Datenpunkt weist einen ungültigen Eintrag für den »Kilometerstand
(km)« auf. Schauen wir zunächst nach, um welches Auto es sich handelt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span><span class="p">[</span> <span class="n">daten_ohne_verbrauch</span><span class="p">[</span><span class="s1">&#39;Kilometerstand (km)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span> <span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Marke</th>
      <th>Modell</th>
      <th>Farbe</th>
      <th>Erstzulassung</th>
      <th>Jahr</th>
      <th>Preis (Euro)</th>
      <th>Leistung (kW)</th>
      <th>Leistung (PS)</th>
      <th>Getriebe</th>
      <th>Kraftstoff</th>
      <th>Kilometerstand (km)</th>
      <th>Bemerkungen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>708</th>
      <td>peugeot</td>
      <td>Peugeot 508</td>
      <td>NaN</td>
      <td>37.500 km</td>
      <td>12/2020</td>
      <td>ACC</td>
      <td>90</td>
      <td>NaN</td>
      <td>Automatik</td>
      <td>Automatik</td>
      <td>NaN</td>
      <td>GT BlueHDi 180 EAT8 Panoramadach</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Bei den Einträgen des Autos sind noch mehr Probleme ersichtlich. Die
Erstzulassung war sicherlich nicht bei 37.500 km und das Jahr ist nicht 12/2020.
Wir können jetzt diesen Datenpunkt löschen oder den Datenpunkt reparieren.
Zunächst einmal der Code zum Löschen des Datenpunktes. Standardmäßig löscht die
<code class="docutils literal notranslate"><span class="pre">drop()</span></code>-Methode ohnehin Zeilen, also Datenpunkte, so dass wir ohne weitere
Optionen den Index der zu löschenden Datenpunkte angeben. Diesmal verwenden wir
die alte Variable um den reduzierten Datensatz zu speichern.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span> <span class="o">=</span> <span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="mi">708</span><span class="p">)</span>
<span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 999 entries, 0 to 999
Data columns (total 12 columns):
 #   Column               Non-Null Count  Dtype  
---  ------               --------------  -----  
 0   Marke                999 non-null    object 
 1   Modell               999 non-null    object 
 2   Farbe                963 non-null    object 
 3   Erstzulassung        999 non-null    object 
 4   Jahr                 999 non-null    object 
 5   Preis (Euro)         999 non-null    object 
 6   Leistung (kW)        999 non-null    int64  
 7   Leistung (PS)        987 non-null    float64
 8   Getriebe             999 non-null    object 
 9   Kraftstoff           999 non-null    object 
 10  Kilometerstand (km)  999 non-null    float64
 11  Bemerkungen          999 non-null    object 
dtypes: float64(2), int64(1), object(9)
memory usage: 101.5+ KB
</pre></div>
</div>
</div>
</div>
<p>Wie Sie in der <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.drop.html">Dokumentation Scikit-Learn →
drop()</a>
nachlesen können, gibt es zum expliziten Überschreiben der alten Variable auch
die Alternative, die Option <code class="docutils literal notranslate"><span class="pre">inplace=True</span></code> zu setzen. Welche Option Sie nutzen,
ist Geschmackssache.</p>
<p>Ob alle Angaben plausibel sind, ist nicht gesagt. Bei dem Peugeot mit dem Index
708 hatten wir ja gesehen, dass bei der Erstzulassung eine Kilometerangabe
stand. Tatsächlich gab es bereits erste Hinweise darauf, dass manche Werte
technisch gültig, aber nicht plausibel sind. Die Spalte mit dem Jahr
beispielsweise wurde beim Import als Datentyp Object klassifiziert. Zu erwarten
wäre jedoch der Datentyp Integer gewesen. Schauen wir noch einmal in den
ursprünglichen Datensatz hinein.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten</span><span class="p">[</span><span class="s1">&#39;Jahr&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;2008&#39;, &#39;2021&#39;, &#39;2018&#39;, &#39;2007&#39;, &#39;2013&#39;, &#39;2019&#39;, &#39;2014&#39;, &#39;2020&#39;,
       &#39;2015&#39;, &#39;2000&#39;, &#39;2016&#39;, &#39;2022&#39;, &#39;2023&#39;, &#39;2017&#39;, &#39;2006&#39;, &#39;2010&#39;,
       &#39;2012&#39;, &#39;1999&#39;, &#39;2005&#39;, &#39;2004&#39;, &#39;2009&#39;, &#39;2002&#39;, &#39;2011&#39;, &#39;2003&#39;,
       &#39;1996&#39;, &#39;2001&#39;, &#39;1997&#39;, &#39;12/2020&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<p>Da bei dem Peugeot mit dem Index 708 das Jahr fälschlicherweise mit <code class="docutils literal notranslate"><span class="pre">12/2020</span></code>
angegeben wurde, hat dieser eine Text-Eintrag dazu geführt, dass die komplette
Spalte als Object klassifiziert wurde und nicht als Integer. Daher müssen stets
weitere Plausibilitätsprüfungen durchgeführt werden, bevor die Daten genutzt
werden, um statistische Aussagen zu treffen oder ein ML-Modell zu trainieren.</p>
</section>
<section id="vervollstandigung-imputation-mit-fillna">
<h2>Vervollständigung (Imputation) mit fillna()<a class="headerlink" href="#vervollstandigung-imputation-mit-fillna" title="Link to this heading">#</a></h2>
<p>Auch bei den Angaben zur Farbe fehlen Einträge. Zum Beispiel die Zeile mit
dem Index 2 ist unvollständig.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Marke                                   hyundai
Modell                             Hyundai iX20
Farbe                                       NaN
Erstzulassung                           02/2018
Jahr                                       2018
Preis (Euro)                              15490
Leistung (kW)                                92
Leistung (PS)                             125.0
Getriebe                              Automatik
Kraftstoff                               Benzin
Kilometerstand (km)                     81192.0
Bemerkungen            1.6 Space Plus AUTOMATIK
Name: 2, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Diesmal entscheiden wir uns dazu, diese Eigenschaft nicht wegzulassen.
ML-Verfahren brauchen aber immer einen gültigen Wert und nicht <code class="docutils literal notranslate"><span class="pre">NaN</span></code>. Wir müssen
daher den fehlenden Wert ersetzen. Eine Möglichkeit ist, eine Farbe zu erfinden,
z.B. ‘bunt’, oder die fehlenden Werte explizit durch einen Eintrag ‘keine
Angabe’ zu vervollständigen. Dazu benutzen wir die Methode <code class="docutils literal notranslate"><span class="pre">fillna()</span></code> (siehe
<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.fillna.html">Pandas-Dokumentation →
fillna()</a>).
Die Vervollständigung soll nur die NaN-Werte der Spalte »Farbe« füllen. Daher
filtern wir zuerst diese Spalte und wenden darauf die <code class="docutils literal notranslate"><span class="pre">fillna()</span></code>-Methode an. Das
erste Argument der <code class="docutils literal notranslate"><span class="pre">fillna()</span></code>-Methode ist der Wert, durch den die NaN-Werte
ersetzt werden sollen (hier <code class="docutils literal notranslate"><span class="pre">'keine</span> <span class="pre">Angabe'</span></code>). Damit die Verwollständigung
explizit gespeichert wird, überschreiben wir die Spalte.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span><span class="p">[</span><span class="s1">&#39;Farbe&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daten_ohne_verbrauch</span><span class="p">[</span><span class="s1">&#39;Farbe&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;keine Angabe&#39;</span><span class="p">)</span>

<span class="c1"># Kontrolle der Vervollständigung</span>
<span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Marke                   0
Modell                  0
Farbe                   0
Erstzulassung           0
Jahr                    0
Preis (Euro)            0
Leistung (kW)           0
Leistung (PS)          12
Getriebe                0
Kraftstoff              0
Kilometerstand (km)     0
Bemerkungen             0
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Wenn wir uns jetzt noch einmal die dritte Zeile ansehen, sehen wir, dass
<code class="docutils literal notranslate"><span class="pre">fillna()</span></code> funktioniert hat.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Marke                                   hyundai
Modell                             Hyundai iX20
Farbe                              keine Angabe
Erstzulassung                           02/2018
Jahr                                       2018
Preis (Euro)                              15490
Leistung (kW)                                92
Leistung (PS)                             125.0
Getriebe                              Automatik
Kraftstoff                               Benzin
Kilometerstand (km)                     81192.0
Bemerkungen            1.6 Space Plus AUTOMATIK
Name: 2, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Bei den PS-Zahlen haben wir ebenfalls nicht vollständige Daten vorliegen.
Diesmal haben wir nicht kategoriale Daten wie die Farben, sondern numerische
Werte. Daher bietet es sich hier eine zweite Methode der Ersetzung (Imputation)
an. Wenn wir überall da, wo keine PS-Zahlen vorliegen, den Mittelwert der
vorhandenen PS-Zahlen einsetzen, machen wir zumindest den Mittelwert des
gesamten Datensatzes nicht kaputt. Wir berechnen daher zuerst den Mittelwert mit
der Methode <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> und nutzen dann die <code class="docutils literal notranslate"><span class="pre">fillna()</span></code>-Methode.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mittelwert</span> <span class="o">=</span> <span class="n">daten_ohne_verbrauch</span><span class="p">[</span><span class="s1">&#39;Leistung (PS)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Der Mittelwert der vorhandenen Einträge »Leistung (PS)« ist: </span><span class="si">{</span><span class="n">mittelwert</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">daten_ohne_verbrauch</span><span class="p">[</span><span class="s1">&#39;Leistung (PS)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daten_ohne_verbrauch</span><span class="p">[</span><span class="s1">&#39;Leistung (PS)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">mittelwert</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Der Mittelwert der vorhandenen Einträge »Leistung (PS)« ist: 171.78
</pre></div>
</div>
</div>
</div>
<p>Noch einmal die Kontrolle, ob jetzt alle NaN-Werte eliminiert oder
vervollständigt wurden:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daten_ohne_verbrauch</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Marke                  0
Modell                 0
Farbe                  0
Erstzulassung          0
Jahr                   0
Preis (Euro)           0
Leistung (kW)          0
Leistung (PS)          0
Getriebe               0
Kraftstoff             0
Kilometerstand (km)    0
Bemerkungen            0
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Der Mittelwert der »Leistung (PS)« ist sehr hoch. Vielleicht haben wir doch den
Datensatz eher verschlechtert, indem wir fehlende Werte durch den Mittelwert
ersetzt haben. Beispielsweise könnte der Median eine bessere Alternative sein.
Auch könnten wir zunächst die Autos mit fehlenden PS-Zahlen weglassen, für die
übrigen Autos ein lineares Regressionsmodell oder einen Entscheidungsbaum
trainieren und damit die fehlenden PS-Zahlen abschätzen. Bei diesem Beispiel
wäre die beste Lösung zur Imputation der ungültigen Werte »Leistung (PS)« die
Umrechung der vorhandenen, gültigen Werte der Spalte »Leistung (kW)«.
Tatsächlich sind die beiden Merkmale redundant, da es sich um dasselbe Merkmal
in zwei verschiedenen Einheiten handelt, so dass wir die Spalte »Leistung (PS)«
auch entfernen könnten.</p>
</section>
<section id="zusammenfassung-und-ausblick">
<h2>Zusammenfassung und Ausblick<a class="headerlink" href="#zusammenfassung-und-ausblick" title="Link to this heading">#</a></h2>
<p>Ein wichtiger Teil eines ML-Projektes beschäftigt sich mit der Aufbereitung der
Daten für die ML-Algorithmen. Dabei ist es nicht nur wichtig, in großen
Datensammlungen fehlende Einträge aufspüren zu können, sondern ein Gespür dafür
zu entwickeln, wie mit den fehlenden Daten umgegangen werden soll. Die
Strategien hängen dabei von der Anzahl der fehlenden Daten und ihrer Bedeutung
ab. Häufig werden unvollständige Daten aus der Datensammlung gelöscht
(Elimination) oder numerische Einträge durch den Mittelwert der vorhandenen
Daten ersetzt (Imputation). Wie kategoriale Daten für ML-Algorithmen aufbereitet
werden müssen, wird im nächsten Kapitel erklärt.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "gramschs/book_ml4ing",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapter08"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="chapter08_sec00.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">8. ML-Workflow: Datenvorverarbeitung</p>
      </div>
    </a>
    <a class="right-next"
       href="chapter08_sec02.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">8.2 Trainings- und Testdaten</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lernziele">Lernziele</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fehlende-daten-aufspuren-mit-isnull">Fehlende Daten aufspüren mit isnull()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loschen-elimination-mit-drop">Löschen (Elimination) mit drop()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vervollstandigung-imputation-mit-fillna">Vervollständigung (Imputation) mit fillna()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#zusammenfassung-und-ausblick">Zusammenfassung und Ausblick</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Simone Gramsch
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> This book is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>.
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>